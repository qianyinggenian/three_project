{"version":3,"file":"js/558.3e248b3b.js","mappings":"sKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,IAAI,KAAKC,YAAY,YAAYC,MAAM,CAAC,GAAK,cAC1H,EACIC,EAAkB,G,6BCOtB,GACAC,KAAA,QACAC,WAAA,GACAC,IAAAA,GACA,OACAC,SAAA,KAEA,EACAC,MAAA,GACAC,MAAA,CACAC,WAAA,CACAC,OAAAA,CAAAC,GACA,KAAAC,WAAA,KACA,MAAAC,EAAA,KAAAC,MAAAD,GACAE,QAAAC,IAAA,KAAAH,EAAAI,aACA,KAAAC,UAAA,GAEA,IAGAC,SAAA,KAEAC,EAAAA,EAAAA,IAAA,OACA,aACA,YACA,kBACA,cACA,mBAEAC,OAAAA,GACA,KAAAT,WAAA,KACA,KAAAU,MAAA,GAEA,EACAC,QAAA,CACAD,IAAAA,GACA,MAAAT,EAAAW,SAAAC,eAAA,aACAV,QAAAC,IAAA,kBAAAH,EAAAI,aACA,MAAAS,EAAA,IAAAC,EAAAA,IACAC,EAAA,IAAAD,EAAAA,IACA,GACAd,EAAAI,YAAAJ,EAAAgB,aACA,GACA,KAEAD,EAAAE,SAAAC,IAAA,QACAL,EAAAM,IAAAJ,GACA,MAAAK,EAAA,IAAAN,EAAAA,IAAA,OACAO,EAAA,IAAAP,EAAAA,IAAA,CAAAQ,MAAA,WACAC,EAAA,IAAAT,EAAAA,IAAAM,EAAAC,GACAE,EAAAC,MAAAN,IAAA,OACAK,EAAAE,SAAAP,KAAAQ,KAAAC,GAAA,aACAd,EAAAM,IAAAI,GACA,MAAA9B,EAAA,IAAAqB,EAAAA,IAAA,CACAc,WAAA,EACAC,wBAAA,IAEA,KAAApC,SAAAA,EACAA,EAAAqC,QAAA9B,EAAAI,YAAAJ,EAAAgB,cACAhB,EAAA+B,YAAAtC,EAAAuC,YAGA,MAAAC,EAAA,IAAAC,EAAAA,EAAAnB,EAAAtB,EAAAuC,YAGAG,EAAA,IAAArB,EAAAA,IAAA,GACAD,EAAAM,IAAAgB,GAEA,MAAAC,EAAA,IAAAtB,EAAAA,IAAA,OAGAsB,EAAAC,YAEA,MAAAC,EAAA,IAAAxB,EAAAA,IAAA,OACAyB,EAAA,EACAC,EAAA,SAEAC,EAAA,IAAA3B,EAAAA,IAAAsB,EAAAE,EAAAC,EAAAC,GAEA,SAAA3D,IACAoD,EAAAS,SACAnB,EAAAN,SAAA0B,GAAA,IACApB,EAAAE,SAAAkB,GAAA,IACApB,EAAAN,SAAA0B,EAAA,IACApB,EAAAN,SAAA0B,EAAA,GAEAlD,EAAAZ,OAAAgC,EAAAE,GAEA6B,sBAAA/D,EACA,CAXAgC,EAAAM,IAAAsB,GAaA5D,IACAgE,OAAAC,iBAAA,eAGA/B,EAAAgC,OAAA/C,EAAAI,YAAAJ,EAAAgB,aAEAD,EAAAiC,yBAGAvD,EAAAqC,QAAA9B,EAAAI,YAAAJ,EAAAgB,cAEAvB,EAAAwD,cAAAJ,OAAAK,iBAAA,GAEA,EACA7C,QAAAA,GAGA,MAAAL,EAAA,KAAAC,MAAAD,GACAE,QAAAC,IAAA,iBAAAH,EAAAI,aACA,KAAAX,SAAAqC,QAAA9B,EAAAI,YAAAJ,EAAAgB,cAEA,KAAAvB,SAAAwD,cAAAJ,OAAAK,iBACA,IC1HsQ,I,UCQlQC,GAAY,OACd,EACAtE,EACAQ,GACA,EACA,KACA,WACA,MAIF,EAAe8D,EAAiB,O","sources":["webpack://three_project/./src/views/gettingStartedAndDebugging/orbitControls/index.vue","webpack://three_project/src/views/gettingStartedAndDebugging/orbitControls/index.vue","webpack://three_project/./src/views/gettingStartedAndDebugging/orbitControls/index.vue?891a","webpack://three_project/./src/views/gettingStartedAndDebugging/orbitControls/index.vue?79d8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"el\",staticClass:\"container\",attrs:{\"id\":\"container\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"container\" class=\"container\" ref=\"el\"></div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nexport default {\n  name: 'index',\n  components: {},\n  data () {\n    return {\n      renderer: null\n    };\n  },\n  props: {},\n  watch: {\n    isCollapse: {\n      handler (newVal) {\n        this.$nextTick(() => {\n          const el = this.$refs.el;\n          console.log('重置', el.clientWidth);\n          this.resizeFn();\n        });\n      }\n    }\n  },\n  computed: {\n\n    ...mapState('app', [\n      'isCollapse',\n      'isGreyOut',\n      'isShowWaterMark',\n      'personalMsg',\n      'waterMarkArea'])\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.init();\n    });\n  },\n  methods: {\n    init () {\n      const el = document.getElementById('container');\n      console.log('el.clientWidth1', el.clientWidth);\n      const scene = new THREE.Scene();\n      const camera = new THREE.PerspectiveCamera(\n        75,\n        el.clientWidth / el.clientHeight,\n        0.1,\n        1000\n      );\n      camera.position.set(0, 0, 10);\n      scene.add(camera);\n      const cubeGeometry = new THREE.BoxGeometry(1, 1, 1);\n      const cubeMaterial = new THREE.MeshBasicMaterial({ color: 0xffff00 });\n      const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n      cube.scale.set(3, 3, 3);\n      cube.rotation.set(-Math.PI / 4, 0, 0, 'XZY');\n      scene.add(cube);\n      const renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        logarithmicDepthBuffer: true\n      });\n      this.renderer = renderer;\n      renderer.setSize(el.clientWidth, el.clientHeight);\n      el.appendChild(renderer.domElement);\n\n      // 创建轨道控制器\n      const controls = new OrbitControls(camera, renderer.domElement);\n      // scene.add(controls);\n      // 添加坐标轴辅助器\n      const axesHelper = new THREE.AxesHelper(5);\n      scene.add(axesHelper);\n      // 箭头\n      const dir = new THREE.Vector3(5, 0, 0);\n\n      // normalize the direction vector (convert to vector of length 1)\n      dir.normalize();\n\n      const origin = new THREE.Vector3(5, 0, 0);\n      const length = 1;\n      const hex = 0xffff00;\n\n      const arrowHelper = new THREE.ArrowHelper(dir, origin, length, hex);\n      scene.add(arrowHelper);\n      function render () {\n        controls.update();\n        cube.position.x += 0.01;\n        cube.rotation.x += 0.01;\n        if (cube.position.x > 5) {\n          cube.position.x = 0;\n        }\n        renderer.render(scene, camera);\n        //   渲染下一帧的时候就会调用render函数\n        requestAnimationFrame(render);\n      }\n\n      render();\n      window.addEventListener('resize', () => {\n        //   console.log(\"画面变化了\");\n        // 更新摄像头\n        camera.aspect = el.clientWidth / el.clientHeight;\n        //   更新摄像机的投影矩阵\n        camera.updateProjectionMatrix();\n\n        //   更新渲染器\n        renderer.setSize(el.clientWidth, el.clientHeight);\n        //   设置渲染器的像素比\n        renderer.setPixelRatio(window.devicePixelRatio);\n      });\n    },\n    resizeFn () {\n      //   更新渲染器\n      // const el = document.getElementById('container');\n      const el = this.$refs.el;\n      console.log('el.clientWidth', el.clientWidth);\n      this.renderer.setSize(el.clientWidth, el.clientHeight);\n      //   设置渲染器的像素比\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: #42b983;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0aef977c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0aef977c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0aef977c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","staticRenderFns","name","components","data","renderer","props","watch","isCollapse","handler","newVal","$nextTick","el","$refs","console","log","clientWidth","resizeFn","computed","mapState","mounted","init","methods","document","getElementById","scene","THREE","camera","clientHeight","position","set","add","cubeGeometry","cubeMaterial","color","cube","scale","rotation","Math","PI","antialias","logarithmicDepthBuffer","setSize","appendChild","domElement","controls","OrbitControls","axesHelper","dir","normalize","origin","length","hex","arrowHelper","update","x","requestAnimationFrame","window","addEventListener","aspect","updateProjectionMatrix","setPixelRatio","devicePixelRatio","component"],"sourceRoot":""}